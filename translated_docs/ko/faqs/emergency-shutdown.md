# 비상정지 FAQ

## 비상정지란 무엇인가요?

비상정지란 Dai의 주요 보안 기능 중 하나이며 이전에는 포괄적 합의 (Global Settlement)라고 불렸습니다. 이 중요한 보안 기능으로 시스템을 정지시킬 수 있으며 [Dai](https://github.com/makerdao/community/blob/master/faqs/ko/dai.md)와 CDP 소유자들이 담보를 회수할 수 있도록 합니다.

## 비상정지가 일어날 동안 어떤 일이 벌어지나요?

1. 비상정지가 발동 됩니다:
   MKR 투표자들이 시스템이 심각한 공격에 처해있다고 판단하거나 기술적 업그레이드를 위해 비상정지가 예정되어있다면 비상정지를 발동할 수 있습니다. 이로 인해 CDP의 개설이 불가능해지며 가격 피드 (price feed)가 동결됩니다.

2. 담보 유치권에 대한 처리가 진행됩니다:
   비상정지가 발동된 후, 모든 CDP 소유자들의 담보 유치권을 처리하기위한 시간이 필요합니다. 이 과정이 끝난 후 모든 CDP 소유자들은 본인의 CDP를 통해 특정액의 ETH를 받을 수 있습니다. 반면, Dai 소유자들은 담보 유치권을 즉시 행사할 수 있습니다.

3. Dai와 CDP 소유자들이 담보를 받아갑니다:
	모든 Dai와 CDP 소유자들은 본인의 Dai와 CDP들의 가치를 계산하여, 그 가치에 해당하는 ETH로 바로 교환할 수 있습니다.

## 누가 비상정지를 발동할 수 있나요?

단일 담보 기반 Dai에서 비상정지를 발동시킬 수 있는 유일한 방법은 MKR 투표자들이 [실행 투표](governance.md#%ED%95%98%EB%82%98-%EC%9D%B4%EC%83%81%EC%9D%98-%ED%88%AC%ED%91%9C-%EC%A2%85%EB%A5%98%EA%B0%80-%EC%9E%88%EB%82%98%EC%9A%94)를 통과시키는 방법입니다.

## 비상정지는 언제 사용되어야 하나요?

비상정지는 시스템에 대한 공격, 중대한 경제적 문제, 혹은 주요 업그레이드 시에 발동할 수 있습니다.

시스템에 대한 공격의 예시로는 해킹, 스마트 컨트랙트의 보안 침입과 오라클의 조작 등이 있습니다.

중대한 경제적 문제의 예시로는, MKR 투표자들이 결정한 페그(peg)가 심각하게 훼손되는 경우와 대다수의 사용자들에게 중대하고 실질적인 위협을 가하는 시장 상황 등이 있습니다.

비상정지가 필수적인 주요 업그레이드의 예시로는, 다중 담보 기반 Dai로의 업그레이드 완료 후, 특정 유예기간 이후에 단일 담보 기반 Dai를 시스템을 정지시키는 것이 있습니다.

## 부채 상한선 도달 시 비상정지가 무조건 발동되나요?

부채 상한선을 도달했다는 것은 CDP 소유자들이 새로운 Dai를 발행할 수 없다는 것을 의미합니다. 이는 당장 시스템의 안정성에 위협을 가하지는 않습니다. 하지만 이 상한을 높이지 않는다면 수요가 제한된 공급을 넘어서며 Dai의 수요와 공급의 불균형을 야기할 수 있습니다. 이 문제는 부채 상한을 높이면 해결할 수 있기 때문에 시스템의 비상정지는 필요하지 않습니다. 비상정지는 굉장히 혼란스러운 절차이기 때문에 계획된 업그레이드나 최후의 수단으로만 사용되어야 합니다.

## CDP와 Dai의 담보 회수는 즉시 자동으로 진행되나요 수동으로 진행되나요?

담보 청구에 대한 상환은 수동으로 진행됩니다.

Dai 소유자는 비상정지 후 바로 담보를 회수할 수 있습니다. CDP 소유자들은 담보를 되돌려 받기 전까지 6시간을 기다려야합니다.

## 왜 CDP 소유자들은 담보를 돌려받기 전까지 기다려야하나요?

CDP 유치권을 계산할 때에는 블록체인상에서의 계산과 자금의 이동이 필요합니다. 이 처리는 네트워크 정체 상태에 따라 오랜 시간이 걸릴 수도 있기 때문에 6시간이 기본으로 설정되어있습니다. 또한 이 지연 기간은 예상치 못한 돌발 상황에 대한 예방 수단으로도 활용됩니다.

## MKR 투표자들이 담보 유치권 처리 시간을 0으로 설정할 수 있나요?

더 짧은 기간으로 설정하면 CDP 소유자들의 담보액이 잘못 계산될 확률이 높아집니다. 처리가 완료되기 전에 CDP를 폐쇄하고 PETH에서 WETH로 전환하려는 CDP 소유자들은, 높은 확률로 불이익을 볼 것이며 지연 기간은 그들을 보호하기 위함입니다.

비상정지가 발동되면 PETH로 모인 WETH의 일부 WETH를, Dai 소유자들을 위해 꺼내게되고, 이는 PETH의 비율을 낮춥니다. 만약 비상정지의 6시간 지연 기간 동안 PETH를 WETH로 바꾸려한다면 인위적으로 낮춰진 PETH 비율에서 이뤄질 것입니다.

## Dai 소유자들도 담보를 회수해야 하나요 아니면 CDP 소유자들만 해당되나요?

CDP와 Dai 소유자 모두 담보를 회수해야합니다. 하지만 Dai 소유자들만 비상정지 발동 후 ETH를 바로 회수할 수 있습니다. CDP 소유자들은 6시간을 기다려야합니다.

## 비상정지 때 PETH를 소유하지만 CDP는 없다면 어떻게 해야 하나요?

비상정지가 발동될 때 PETH 비율은 즉시 폭락하고 CDP들이 처리되며 다시 올라갑니다. PETH 소유자들은 CDP 소유자와 마찬가지로 6시간을 기다려야 합니다.

## 가격 피드 (price feed)가 동결된 후 가격이 계속 내려간다면 Dai와 CDP를 회수할 때 $1 이하로 돌려받게 되는 것 아닌가요?

네 달러로 계산된 가격의 이하로 돌려받을 수도 있습니다. Dai 소유자들은 본인의 Dai를 바로 담보로 바꿔 하락의 손해를 최소화할 수 있습니다. CDP 소유자들은 유치권 계산을 위해 6시간을 기다려야하기 때문에 그 6시간 동안 담보의 가격이 변동될 수 있다는 위험이 있습니다.

## 비상정지는 얼마나 빨리 발동될 수 있나요?

비상정지를 발동하기 위해서는 MKR 투표자들이 실행 투표를 통과시켜야 합니다. 이 제안은 [지속적 승인 투표](governance.md#%EC%A7%80%EC%86%8D%EC%A0%81-%EC%8A%B9%EC%9D%B8-%ED%88%AC%ED%91%9C%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80%EC%9A%94)에 의해 전 제안보다 더 많은 MKR을 얻어야 합니다. 따라서, 비상정지의 발동은 MKR 투표자들의 새로운 제안에 대한 투표가, 이전에 통과된 제안을 얼마나 빨리 추월할 수 있느냐에 달려있습니다.

## 비상정지가 발동되면 MakerDAO는 어떻게 되나요?

비상정지가 발동된 후 담보 회수 절차가 진행됩니다. 그 동안 누구나 시스템을 다시 배포할지 말지 그리고 어떻게 배포할지 결정할 수 있습니다.

## 누가 시스템을 다시 배포할 수 있나요?

공개 소스 소프트웨어이기 때문에 누구나 재배포할 수 있습니다.

## 만약 여러 재배포가 진행된다면 어떤 배포가 정식인지 누가 결정하나요?

시스템 참여자들이 재배포의 세부 사항, 시장 등 여러 사항들을 고려해 가장 적합한 변경을 포함한 배포를 정해야합니다. 고려해야하는 사항으로는:

- 부적절한 코드 수정 제한
- MKR 토큰의 배분에 대한 변경
- 위험 매개 변수에 대한 변경

## 시스템이 어떻게 배포되는지는 누가 정하나요?

공개 소스 소프트웨어이기 때문에 누구나 결정할 수 있습니다. 이상적으로 재배포의 변경사항은, 비상정지의 원인에 의해 정해지고 일방적이고 임의적으로 바뀌면 안됩니다. 다음은 재배포의 수정사항에 대한 대략적인 가이드라인입니다.

| 이유 | 해결책 |
| --- | --- |
| 거버넌스 공격 | 새로운 배포에 악의적인 MKR 소유자들을 내보내고 나머지는 그대로 재배포한다|
| 오라클 공격 | 오라클 모듈을 취약점이 개선된 모듈로 교체하고 나머지는 그대로 재배포한다 |
| 시장 블랙 스완 | 모든 것을 그대로 재배포하고 배포 후 MKR 투표자들이 신규 혹은 개선된 시스템을 통해 이런 상황을 어떻게 해결할 것인지 투표로 정하도록 한다. |

## 비상정지시 CDP 소유자의 담보가 다른 사람에게 넘어가나요?

비상정지시 Dai 소유자는 즉시 담보를 회수할 수 있습니다. 이는 다른 사람이 당신의 담보의 일부를 가져갈 수 있음을 뜻합니다. 하지만 CDP 담보 유치권이 처리된 후 CDP를 소유하는 누구나 본인 CDP의 순가치에 해당하는 담보를 가져갈 수 있습니다.

예시:

> 가격이 300 USD인 1 ETH이 들어간 CDP를 소유하고 있고, 빚이 100이라면 0.6666 ETH가 남고 빚은 사라질 것입니다.
> 담보 회수를 위한 CDP의 순가치는 300 USD 담보에서 100 USD 빚을 차감한 금액입니다.
> 그러므로 6시간의 지연 기간 이후 0.6666 ETH를 회수할 수 있습니다.

## MKR 소유자들이, 부실한 경영으로 인한 MKR 가치 하락을 막기 위해 비상정지를 발동하는 것을 막을 수 있는 방법이 있나요?

MKR 소유자들(특히 대량의 MKR을 보유한 경우)은 그들의 MKR의 가치를 지키려고 합니다. 당장 가치 하락의 두려움으로 인해 비상정지를 발동하면 오히려 MKR의 가치에 악영향을 미칠 수 있습니다. 또한 아무나 시스템을 재배포하고 MKR 토큰의 배부 방법을 바꿀 수 있기 때문에 비상정지로 인해 그들의 MKR 소유권을 잃을 수 있습니다. 그러므로 이는 굉장히 위험한 행동입니다.

## 비상정지시 새로운 CDP를 개설할 수 있나요?

불가능합니다.

## 잃어버렸거나, 막혔거나, 매우 적어 사용할 수 없는 CDP나 Dai는 어떻게 되나요?

잃어버렸거나 막힌 CDP와 Dai들은 그렇게 남겨질 것이며 이는 ETH가 사라졌음을 의미합니다.

## 비상정지 시 안정화 수수료는 면제되나요?

비상정지 시 안정화 수수료를 내지는 않지만, 거버넌스는 비상정지 페널티를 통해 비상정지 동안 CDP를 다중 담보 기반 Dai(MCD)로 옮기지 않고 소유하는 경우에 더 높은 페널티를 부과할 수 있습니다. 그러므로 CDP를 옮기고 안정화 수수료를 내는 것이 더 저렴합니다.

## 과거에 비상정지가 발동된 적이 있나요?

네, 단일 담보 기반 Dai 시스템 이전에 Sai System에서 비상정지가
 [발동된 적이 있습니다](https://www.reddit.com/r/MakerDAO/comments/7lhbmx/psa_sai_now_globally_settled/).

## 비상정지는 어떻게 테스팅 했나요?

비상정지는 Sai 프로토타입 배포에서 처음 소개되고 테스팅 되었습니다. [코드](https://github.com/makerdao/sai/blob/master/src/sai.t.sol) 안에 있는 테스트들에 더불어, 이더리움 메인넷에 배포된 Sai 프로토타입에서 3번의 라이브 실행이 있었습니다.

## 비상정지 시 CDP와 Dai 소유자들에게 어떻게 알리나요?

모든 공식 Maker 사이트, 블로그 뿐만 아니라 트위터, 레딧, 미디엄, 로켓챗, 텔레그램, 위챗, 카카오톡 등 여러 공식 소통 채널을 통해 공지될 것입니다.
