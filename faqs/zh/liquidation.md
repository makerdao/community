# 清算


## 什么是清算？

CDP 在被认定为不安全的时候可以被清算。这确保了系统中有足够的抵押品来保证所有发行的 Dai 的价值。清算发生在 CDP 抵押品的总价值（由预言机的数据判定）小于资产类别所需的抵押价值时。在清算过程中会扣除足够支付其债务和费用的抵押品，用户可以取回剩下的抵押品。


## 为什么存在清算？


与大多数仅通过政府法令背书而具有价值的法定货币不同，Dai 是一种现代的、加密安全的货币；所有流通的 Dai 都有智能合约中存储的超额抵押品通证作为价值储备，从而确保去信任并消除交易对手风险。这完全透明，可以使用户对系统保持信心。


## 谁可以触发清算？

为了确保时刻拥有超额的抵押品，称为 Keeper 的用户对不安全或抵押不足的CDP 的保持监测。这些 Keeper 是 Dai 稳定币系统中一类特殊用户。他们受到系统提供的激励，确保已发行的 Dai 是完全抵押和可偿付的，通过尽快使不安全的 CDP 被清算从而维护整个生态系统的健康。这在市场快速下跌时尤为重要，因为这时候抵押品的价值可能无法偿还债务。


## 什么是清算比率？



每种类型的抵押品都有各自清算比率，该比率是由该特定资产的风险状况确定的。目前，唯一的抵押品类型是ETH。

在该系统的单抵押 Dai 推出时，Maker的风险团队对 ETH 资产的风险状况进行了评估，并认为其适当的清算比率为150％。

分布式的预言机为系统提供 ETH 的价格数据，以计算特定 CDP 的抵押比率何时低于清算比率。风险概况和由预言机确定的市场价格的共同决定了清算比率。

例如，用户想要取出 200 DAI，并认为抵押品的价值不会低于其当前市场价格的50％。 用户决定至少抵押最低抵押限额的两倍。由于最低抵押额为150％，用户存入 600 美元的 ETH 并取出200 DAI，使其 CDP 保证 300％ 的抵押。

**注：150％是用 ETH 抵押的 CDP 被 Keeper 清算之前可以抵押的最低点。保持在该最低水平之上可防止用户的抵押品被清算**。


## 什么是清算价格？

清算价格是在 CDP 变得可以被清算之前的最低价格。


## 什么是清算罚款？

这是在清算时加入到未偿还的 DAI 债务总额中的费用，从 CDP 的抵押品中扣除。

罚款所得款项将转入 PETH 池。这增加了用户从 CDP 中取回抵押品时获得的WETH 比率。在大量成功清算后，此费用会抬高抵押品池的价值。


## 清算过程中会发生什么？

当 Keeper 触发可被清算 CDP 并将其发送给流动性提供合同（Liquidity Providing Contract ，LPC）时，清算就开始进行，将在 Dai 面板上出售 CDP 里的资产。一旦出售完需要回购的债务，未售出的 PETH 抵押品将返还给 CDP 所有者。

操作顺序如下：

* 违约的 CDP 被触发。
* 罚款费用将加入所需回购的 Dai 债务。
* LPC 移除足够的 PETH 抵押品以满足需回购的债务（价格由预言机反馈）。
* CDP 原所有者可以从被清算的 CDP 取回他们剩余的抵押品。
* 被移除的 PETH 折扣价在 [dai.makerdao.com](http://dai.makerdao.com) 出售，称为 [Boom/Bust Spread](https://github.com/makerdao/community/blob/master/faqs/glossary.md) 的合约。
* 销毁出售 PETH 所赚取的 Dai 以消除 CDP 债务。
* 如果出售中有多余的 Dai，则用来购买 PETH，然后销毁，使剩余 PETH 的价值提升。
* 如果出售的 Dai 不足，则发行 PETH 并出售以弥补短缺。这会稀释 PETH 池的总价值。


## 清算后会剩余多少抵押品？

要确定清算后您还拥有多少抵押品，可以使用以下简化公式：

`（抵押品 x 预言机馈送的价格 x PETH/ETH比率） - （清算罚款 x 稳定性债务） - 稳定性债务 =（剩余抵押品 x 预言机馈送的价格）DAI
`

假设：

* 预言机 ETH 的喂价为350美元
* 锁定的 PETH 总数为10 ETH
* PETH/ETH 的比率为1.012
* 清算罚款为13％
* CDP的稳定债务为1000 DAI

`（10 × 350 × 1.012） - （13％ × 1000） -  1000 = 2412 DAI 或 6.891428571 ETH
`

## 如何计算清算价格？

您可以使用以下简化公式来确定抵押品的价值达到什么程度会触发结算：

`（稳定债务 x 清算比率）/（抵押品 x PETH/ETH比率）= 清算价格`

例如：

* ETH的价格为350美元
* 总抵押的 PETH 为12个
* PETH/ETH比率为1.012
* 清算比率为150％
* 稳定债务为 1000 DAI

`（1000×1.5）÷（12×1.012）= 123.51美元
`

ETH 的价格降至123.51美元，在 CDP 就会被认为不安全并且有被清算的风险。


## 如何计算我的抵押比率？


如果你希望通过查看抵押品与债务的比率（而非清算价格）来确定你的债务的健康状况，您可以使用以下简化公式：

`（锁定的PETH数量 × ETH的价格 × PETH/ETH的比率）÷ 稳定性债务 × 100 = 抵押比率
`

比如：

* ETH 的价格为 350USD
* 总抵押的 PETH 为12个
* PETH / ETH的比率为1.012
* 稳定债务为1000 DAI

`（12×350×1.012）÷1000 ×100 = 425.04％`

CDP 的抵押比率为425.04％。


## 如何降低我的清算价格？

CDP 所有者面临的主要挑战是在高度不可预测的市场中保持安全的杠杆状态。如果您的 CDP 接近清算价格，您可以添加更多抵押品或偿还 Dai 以降低风险。

选择哪个方式取决于你的长期目标。如果你坚信底层抵押品的未来价值，你可以决定增加更多的抵押品。或者，如果你希望降低价格波动的风险，可以通过将 Dai 返还, 给 CDP 偿还债务。

降低清算风险的最佳方法是偿还 Dai，不仅清算价格会更有效地降低，还可以减少 CDP 所产生的稳定费用。

假设：

* ETH 的价格为 350 USD
* 总抵押的 PETH 为12个
* PETH/ETH 的比率为1.012
* 清算比率为150％
* 稳定债务为 1000 DAI

目前的清算价格：

`（1000×1.5）÷（12×1.012）= 123.51美元
`

清算价格在**增加** 700美元抵押品后的变动：

`（1000×1.5）÷（14×1.012）= 105.87美元
`

清算价格在**减少** 700美元债务后的变动：

`（300×1.5）÷（12×1.012）= 37.05美元
`

可以看到，返还 Dai 比增加更多抵押品更显着地降低了清算价格。


## 避免被清算的一般做法

保持对 CDP 健康状况的了解是**你的责任**。确保资产不被清算，完全掌握在每个 CDP 用户手中。以下是监控 CDP 健康状况的一些常见做法。

* 在App程序中设置抵押品价格变化提醒。
* 确保持有充足的资产，可以通过增加更多抵押品或把这些资产出售为 Dai 偿还债务，补足头寸。
* 如果你认为市场可能持续低迷，可以从 CDP 中取出多余的抵押品，将其出售为 Dai，然后可以再用来偿还债务。 (确保与清算价格保持安全距离，因为这种策略会暂时让 CDP 处于风险较高的位置，直到用 Dai 清除债务。)

请记住，创建 CDP 代表着承担风险。愿意承担多少风险取决于多种因素。决定 [风险组合](https://wiki.mbalib.com/wiki/风险组合) 本身就是一门科学，但每个 CDP 用户都需要自己掌握这个问题。

有关风险的更多信息，请参阅提供重要法律信息的[服务条款](https://cdp-cn.makerdao.com/terms)。在使用 Dai 稳定币系统之前，每个 CDP 用户都需要确认服务条款。

## 智能合约如何出售抵押品？

当 Keeper 清算不安全的 CDP 时，流动性提供合同（Liquidity Providing Contract ，LPC ）确保抵押品在 Dai 交互面板上出售。出售价格由预言机喂价确定。抵押品通常以折扣的形式出售，然后将出售所得用于必须回购的未偿还债务。“折价”旨在通过向清算方提供优于市场价格的抵押品，激励系统快速回收债务。

用户可以在 [Dai 高级面板](https://dai.makerdao.com) 上购买移动到 LPC 合约里的 PETH。在出售后盈余的 Dai 可以用 PETH 购买。


## 我可以购买被清算的PETH吗？

在 Dai 面板上，有"清算中的流动性资产"一栏，市场参与者可以按照 Bust/Boom Spread 确定的折扣购买被清算的 PETH。

## 瀑布式崩盘对 CDP 清算有怎样的影响？

单个交易所瀑布式崩盘不会影响系统，因为每个 Oracle 汇总来自许多交易所的价格。收集数据后，会计算出这些独立喂价数据的中位数。你可以在 [https://mkr.tools/system/feeds](https://mkr.tools/system/feeds) 中查看所有独立预言机的喂价。

* 详细信息：[https://developer.makerdao.com/feeds/](https://developer.makerdao.com/feeds/)
* 喂价代码：[https://github.com/makerdao/price-feed](https://github.com/makerdao/price-feed)
* 中位数计算器代码：[https://github.com/makerdao/medianizer](https://github.com/makerdao/medianizer)
* 更新程序代码：[https://github.com/makerdao/setzer](https://github.com/makerdao/setzer)
* 喂价监测：[https://mkr.tools/system/feeds](https://mkr.tools/system/feeds)


## 哪里可以查看有关清算的实时信息？

您可以浏览 [mkr.tools](https://mkr.tools) 的相关页面 - [清算](https://mkr.tools/system/liquidations) 和 [触发](https://mkr.tools/system/bites)。这是一个跟踪 MakerDAO 系统的第三方工具。